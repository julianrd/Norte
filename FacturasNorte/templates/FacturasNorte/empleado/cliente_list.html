{% extends "FacturasNorte/base/base.html" %}

{% block content %}
<h1>Clientes</h1>

    <div id="searchbar">
        <form action="" id="filter" method="post">
        {% csrf_token %}

            <div class="fieldWrapper">

                <p> {{ form.query.label_tag }} {{ form.query }}   {{ form.tipo.label_tag }} {{ form.tipo }}</p>

            </div>
            <button id="boton" type="submit">Filtrar</button>
        </form>
    </div>
    <div id="nuevo">
        <p><a href={% url 'FacturasNorte:nuevo_cliente' %}>Nuevo cliente</a></p>
    </div>
<br/>
<br/>

{% if not cliente_list %}
      <h3> No se han encontrado resultados.</h3>
  {% else %}

 <table style="width:100%">

  <tr>
    <th>DNI</th>
    <th>Nombre</th>
    <th>Email</th>
    <th></th>
    <th></th>
  </tr>
     {% for cliente in cliente_list %}

        <tr>
            <td><a href={% url 'FacturasNorte:detalle_cliente' cliente.numero %}>{{ cliente.nroDoc }}</a></td>
            <td><a href={% url 'FacturasNorte:detalle_cliente' cliente.numero %}>{{ cliente.nombre }}</a></td>
            <td><a href={% url 'FacturasNorte:detalle_cliente' cliente.numero %}>{{ cliente.email }}</a></td>
            <td><a href={% url 'FacturasNorte:modif_cliente' cliente.numero %}>Modificar</a></td>
            <td><a href={% url 'FacturasNorte:elim_cliente' cliente.numero %}>Eliminar</a></td>
        </tr>

     {% endfor %}
  {% endif %}
</table>


    {% if is_paginated %}
        <div class="pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}">anterior</a>
                {% endif %}
                <span class="page-current">
                    Pagina {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">siguiente</a>
                {% endif %}
            </span>
        </div>
    {% endif %}

{% endblock %}